@model IEnumerable<QuanliNS.Models.Nhanvien>

@{
    ViewBag.Title = "Danh sách nhân viên";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Danh sách nhân viên</h2>
@if (Convert.ToInt32(Session["RoleID"]) == 1)
{
    <p>
        @Html.ActionLink("Tạo mới", "Create")
    </p>
}
    <table class="table">
        <tr>
            <th>
                Họ tên
            </th>
            <th>
                Năm sinh
            </th>
            <th>
                Địa chỉ
            </th>
            <th>
                Giới tính
            </th>
            <th>
                Số CMND
            </th>
            <th>
                Số ĐT
            </th>
            <th>
                Email
            </th>
            <th>
                Tên chức vụ
            </th>
            <th>
                Tên phòng ban
            </th>
            <th>
                Quyền
            </th>
            @if (Convert.ToInt32(Session["RoleID"]) == 1)
            {
                <th>
                    Chức năng
                </th>
            }
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.HoTen)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NamSinh)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Diachi)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Gioitinh)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoCMND)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoDT)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Chucvu.TenCV)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Phongban.TenPB)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quyen)
                </td>
                @if (Convert.ToInt32(Session["RoleID"]) == 1)
                {
                    <td>
                        @Html.ActionLink("Sửa", "Edit", new { id = item.MaNV })
                        @Html.ActionLink("Xóa", "Delete", new { id = item.MaNV })
                        @Html.ActionLink("Chi tiết", "Details", new { id = item.MaNV })

                    </td>
                }
            </tr>
        }

    </table>
